{"remainingRequest":"/home/ahmet/Desktop/OldProjects/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/babel-loader/lib/index.js!/home/ahmet/Desktop/OldProjects/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ahmet/Desktop/OldProjects/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ahmet/Desktop/OldProjects/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/src/components/tutorial/comment/CommentItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ahmet/Desktop/OldProjects/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/src/components/tutorial/comment/CommentItem.vue","mtime":1612773362631},{"path":"/home/ahmet/Desktop/OldProjects/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ahmet/Desktop/OldProjects/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ahmet/Desktop/OldProjects/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ahmet/Desktop/OldProjects/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvYWhtZXQvRGVza3RvcC9PbGRQcm9qZWN0cy9OYWNoaGlsZmVrbGVpbmFuemVpZ2VuL2dydXBwZTA3L2dydXBwZTA3L2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGNvbW1lbnQ6IHt9CiAgfSwKICBjb21wb25lbnQ6IHsKICAgIG1vbWVudDogbW9tZW50CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXREYXRlVGltZTogZnVuY3Rpb24gZ2V0RGF0ZVRpbWUodmFsKSB7CiAgICAgIHJldHVybiBtb21lbnQodmFsKTsKICAgIH0sCiAgICBnZXRJbWFnZTogZnVuY3Rpb24gZ2V0SW1hZ2UoKSB7CiAgICAgIGlmICh0aGlzLmNvbW1lbnQudXNlcklkKSB7CiAgICAgICAgaWYgKHRoaXMuY29tbWVudC51c2VySWQuaW1nUGF0aCkgewogICAgICAgICAgcmV0dXJuICdodHRwOi8vbG9jYWxob3N0OjMwMDAvJyArIHRoaXMuY29tbWVudC51c2VySWQuaW1nUGF0aDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiAnaHR0cHM6Ly9jZG4xLmljb25maW5kZXIuY29tL2RhdGEvaWNvbnMvdGVjaG5vbG9neS1kZXZpY2VzLTIvMTAwL1Byb2ZpbGUtNTEyLnBuZyc7CiAgICB9LAogICAgaXNDb21tZW50ZXI6IGZ1bmN0aW9uIGlzQ29tbWVudGVyKCkgewogICAgICByZXR1cm4gdGhpcy5jb21tZW50LnVzZXJJZC5faWQgPT09IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySUQnKTsKICAgIH0sCiAgICBkZWxldGVDb21tZW50OiBmdW5jdGlvbiBkZWxldGVDb21tZW50KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuYXhpb3MuZGVsZXRlKCdodHRwOi8vbG9jYWxob3N0OjMwMDAvZGlzY3Vzc2lvbi8nICsgX3RoaXMuJHJvdXRlLnBhcmFtcy5pZCwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0X3Rva2VuJykpLAogICAgICAgICAgICAgICAgICAgIENvbW1lbnRJZDogX3RoaXMuY29tbWVudC5faWQKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICBfdGhpcy4kZW1pdCgncmVsb2FkQ29tbWVudHMnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDc7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgYWxlcnQoJ0FuIGVycm9yIG9jY3VyZWQ6ICcsIF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgN11dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["CommentItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,OAAA,MAAA,MAAA,QAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AADA,GADA;AAIA,EAAA,SAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA,GAJA;AAOA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,GADA,EACA;AACA,aAAA,MAAA,CAAA,GAAA,CAAA;AACA,KAHA;AAIA,IAAA,QAJA,sBAIA;AACA,UAAA,KAAA,OAAA,CAAA,MAAA,EAAA;AACA,YAAA,KAAA,OAAA,CAAA,MAAA,CAAA,OAAA,EAAA;AACA,iBAAA,2BAAA,KAAA,OAAA,CAAA,MAAA,CAAA,OAAA;AACA;AACA;;AACA,aAAA,iFAAA;AACA,KAXA;AAYA,IAAA,WAZA,yBAYA;AACA,aAAA,KAAA,OAAA,CAAA,MAAA,CAAA,GAAA,KAAA,YAAA,CAAA,OAAA,CAAA,QAAA,CAAA;AACA,KAdA;AAeA,IAAA,aAfA,2BAeA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,KAAA,CAAA,KAAA,CAAA,MAAA,CAAA,sCAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA;AACA,kBAAA,OAAA,EAAA;AACA,oBAAA,aAAA,mBAAA,YAAA,CAAA,OAAA,CAAA,WAAA,CAAA,CADA;AAEA,oBAAA,SAAA,EAAA,KAAA,CAAA,OAAA,CAAA;AAFA;AADA,iBAAA,CAFA;;AAAA;AAEA,gBAAA,GAFA;;AAQA,oBAAA,GAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,kBAAA,KAAA,CAAA,KAAA,CAAA,gBAAA;AACA;;AAVA;AAAA;;AAAA;AAAA;AAAA;AAYA,gBAAA,KAAA,CAAA,oBAAA,cAAA;;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AA7BA;AAPA,CAAA","sourcesContent":["<template>\n    <div\n        class=\"bg-gray-300 rounded-lg p-3 flex flex-col justify-center items-center md:items-start shadow-lg mb-4\"\n        v-if=\"comment.userId\"\n    >\n        <div class=\"flex flex-row justify-center mr-2\">\n            <img\n                alt=\"avatar\"\n                width=\"48\"\n                height=\"48\"\n                class=\"rounded-full w-10 h-10 mr-4 shadow-lg mb-4\"\n                :src=\"getImage()\"\n            />\n            <h3>\n                <router-link :to=\"`/profile/${comment.userId._id}`\">\n                    <div class=\"text-purple-600 font-semibold text-lg text-center md:text-left\">\n                        @{{ comment.userId.username }}\n                    </div>\n                </router-link>\n                {{ getDateTime(comment.creation_date) }}\n            </h3>\n        </div>\n        <p style=\"width: 100%\" class=\"text-gray-600 text-lg text-center md:text-left\">\n            {{ comment.value }}\n        </p>\n\n        <div v-if=\"isCommenter()\" style=\"float: right\">\n            <button class=\"content-center\" title=\"Delete Comment\">\n                <img\n                    src=\"../../../assets/full-trash.png\"\n                    class=\"h-8\"\n                    width=\"32\"\n                    height=\"25\"\n                    @click=\"deleteComment()\"\n                />\n            </button>\n        </div>\n    </div>\n</template>\n<script>\nimport moment from 'moment';\nexport default {\n    props: {\n        comment: {}\n    },\n    component: {\n        moment\n    },\n    methods: {\n        getDateTime(val) {\n            return moment(val);\n        },\n        getImage() {\n            if (this.comment.userId) {\n                if (this.comment.userId.imgPath) {\n                    return 'http://localhost:3000/' + this.comment.userId.imgPath;\n                }\n            }\n            return 'https://cdn1.iconfinder.com/data/icons/technology-devices-2/100/Profile-512.png';\n        },\n        isCommenter() {\n            return this.comment.userId._id === localStorage.getItem('userID');\n        },\n        async deleteComment() {\n            try {\n                var res = await this.axios.delete('http://localhost:3000/discussion/' + this.$route.params.id, {\n                    headers: {\n                        Authorization: `Bearer ${localStorage.getItem('jwt_token')}`,\n                        CommentId: this.comment._id\n                    }\n                });\n                if (res.status === 200) {\n                    this.$emit('reloadComments');\n                }\n            } catch (err) {\n                alert('An error occured: ', err);\n            }\n        }\n    }\n};\n</script>\n"],"sourceRoot":"src/components/tutorial/comment"}]}