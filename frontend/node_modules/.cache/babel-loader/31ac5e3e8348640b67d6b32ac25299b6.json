{"remainingRequest":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/babel-loader/lib/index.js!/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/src/components/auth/Reset.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/src/components/auth/Reset.vue","mtime":1612773362627},{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvYWhtZXQvRGVza3RvcC9OYWNoaGlsZmVrbGVpbmFuemVpZ2VuL2dydXBwZTA3L2dydXBwZTA3L2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdGb3Jnb3QnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwYXNzd29yZDogJycsCiAgICAgIHBhc3N3b3JkX2NvbmZpcm06ICcnCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGp3dF90b2tlbiwgcmVzdWx0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7CgogICAgICAgICAgICAgIF90aGlzLiRyb290LiRyZWZzLk5hdmJhci5yZWxvYWROYXYoKTsKCiAgICAgICAgICAgICAgand0X3Rva2VuID0gX3RoaXMuJHJvdXRlLnBhcmFtcy50b2tlbjsKCiAgICAgICAgICAgICAgaWYgKCFqd3RfdG9rZW4pIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL3ZlcmlmeVRva2VuU2FsdCcsIHt9LCB7CiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQoand0X3Rva2VuKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiB2YWxpZCcpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMTsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwLm1lc3NhZ2UpOwogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpOwoKICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpOwoKICAgICAgICAgICAgICBfdGhpcy4kcm9vdC4kcmVmcy5OYXZiYXIucmVsb2FkTmF2KCk7CgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJbnZhbGlkIFRva2VuJyk7CgogICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDExXV0pOwogICAgfSkpKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTdWJtaXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9jaGFuZ2VQYXNzb3dyZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHN1Ym1pdEJ1dHRvbiwgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLnBhc3N3b3JkID09PSB0aGlzLnBhc3N3b3JkX2NvbmZpcm0pKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJtaXRCdXR0b24nKTsKICAgICAgICAgICAgICAgIHN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICBzdWJtaXRCdXR0b24uY2xhc3NOYW1lID0gJ3ctZnVsbCBweC00IHB5LTIgZm9udC1ib2xkIHRleHQtYmxhY2sgYmctZ3JleS01MDAgcm91bmRlZC1mdWxsIGhvdmVyOmJnLWdyZXktNzAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpzaGFkb3ctb3V0bGluZSc7CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5heGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvdXBkYXRlUGFzc3dvcmQnLCB7CiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHJvdXRlLnBhcmFtcy50b2tlbikKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgd2luZG93LmFsZXJ0KCdQYXNzb3dyZCBTdWNjZXNzZnVsbHkgVXBkYXRlZCEnKTsKICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oNCk7CiAgICAgICAgICAgICAgICB3aW5kb3cuYWxlcnQoJ1JlcXVlc3QgY291bGQgbm90IGJlIGNvbXBsZXRlZC4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4gRXJyb3I6ICcgKyBfY29udGV4dDIudDAubWVzc2FnZSk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB3aW5kb3cuYWxlcnQoJ1Bhc3Nvd3JkcyBkbyBub3QgbWF0Y2ghJyk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMsIFtbNCwgMTFdXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGNoYW5nZVBhc3Nvd3JkKCkgewogICAgICAgIHJldHVybiBfY2hhbmdlUGFzc293cmQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGNoYW5nZVBhc3Nvd3JkOwogICAgfSgpCiAgfQp9Ow=="},{"version":3,"sources":["Reset.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,gBAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,OARA,qBAQA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,cAAA,YAAA,CAAA,KAAA;;AACA,cAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,MAAA,CAAA,SAAA;;AACA,cAAA,SAJA,GAIA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,KAJA;;AAAA,mBAKA,SALA;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAMA,KAAA,CAAA,KAAA,CAAA,IAAA,CACA,uCADA,EAEA,EAFA,EAGA;AACA,gBAAA,OAAA,EAAA;AACA,kBAAA,aAAA,mBAAA,SAAA;AADA;AADA,eAHA,CANA;;AAAA;AAMA,cAAA,MANA;;AAeA,kBAAA,MAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,aAAA;AACA;;AAjBA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAoBA,cAAA,OAAA,CAAA,GAAA,CAAA,YAAA,OAAA;AACA,cAAA,YAAA,CAAA,KAAA;;AACA,cAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,QAAA;;AACA,cAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,MAAA,CAAA,SAAA;;AACA,cAAA,OAAA,CAAA,GAAA,CAAA,eAAA;;AAxBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0BA,GAlCA;AAmCA,EAAA,OAAA,EAAA;AACA,IAAA,YAAA;AAAA,oFAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,KAAA,QAAA,KAAA,KAAA,gBADA;AAAA;AAAA;AAAA;;AAEA,gBAAA,YAFA,GAEA,QAAA,CAAA,cAAA,CAAA,cAAA,CAFA;AAGA,gBAAA,YAAA,CAAA,QAAA,GAAA,IAAA;AACA,gBAAA,YAAA,CAAA,SAAA,GACA,0HADA;AAJA;AAAA;AAAA,uBAOA,KAAA,KAAA,CAAA,IAAA,CACA,sCADA,EAEA;AACA,kBAAA,QAAA,EAAA,KAAA;AADA,iBAFA,EAKA;AACA,kBAAA,OAAA,EAAA;AACA,oBAAA,aAAA,mBAAA,KAAA,MAAA,CAAA,MAAA,CAAA,KAAA;AADA;AADA,iBALA,CAPA;;AAAA;AAOA,gBAAA,GAPA;;AAkBA,oBAAA,GAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,kBAAA,MAAA,CAAA,KAAA,CAAA,gCAAA;AACA,uBAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA;;AArBA;AAAA;;AAAA;AAAA;AAAA;AAuBA,gBAAA,MAAA,CAAA,KAAA,CAAA,oEAAA,aAAA,OAAA;;AAvBA;AAAA;AAAA;;AAAA;AA0BA,gBAAA,MAAA,CAAA,KAAA,CAAA,yBAAA;;AA1BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA,eAAA,cAAA;AAAA;AAAA;;AAAA,aAAA,cAAA;AAAA;AADA;AAnCA,CAAA","sourcesContent":["<template>\n    <div class=\"bg-grey-lighter min-h-screen flex flex-col\">\n        <img src=\"../../assets/logo.png\" class=\"w-96 mx-auto bounce-in-from-front-to-back\" />\n        <div class=\"container max-w-sm mx-auto items-center justify-center px-2\">\n            <h1 class=\"mb-8 text-3xl text-center\">Reset Your Password</h1>\n            <form @submit.prevent=\"handleSubmit\" method=\"POST\">\n                <input\n                    type=\"password\"\n                    class=\"block border border-grey-light w-full p-3 rounded mb-4\"\n                    name=\"password\"\n                    id=\"password\"\n                    v-model=\"password\"\n                    placeholder=\"Password\"\n                    required\n                />\n                <input\n                    type=\"password\"\n                    class=\"block border border-grey-light w-full p-3 rounded mb-4\"\n                    name=\"password\"\n                    id=\"password_confirm\"\n                    v-model=\"password_confirm\"\n                    placeholder=\"Confirm your passowrd\"\n                    required\n                />\n                <input\n                    type=\"submit\"\n                    id=\"submitButton\"\n                    class=\"w-full px-4 py-2 font-bold text-white bg-red-500 rounded-full hover:bg-red-700 focus:outline-none focus:shadow-outline\"\n                    value=\"Change Password\"\n                />\n            </form>\n            <br />\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'Forgot',\n    data() {\n        return {\n            password: '',\n            password_confirm: ''\n        };\n    },\n    async mounted() {\n        try {\n            localStorage.clear();\n            this.$root.$refs.Navbar.reloadNav();\n            const jwt_token = this.$route.params.token;\n            if (jwt_token) {\n                let result = await this.axios.post(\n                    'http://localhost:3000/verifyTokenSalt',\n                    {},\n                    {\n                        headers: {\n                            Authorization: `Bearer ${jwt_token}`\n                        }\n                    }\n                );\n                if (result.status === 200) {\n                    console.log('Token valid');\n                }\n            }\n        } catch (err) {\n            console.log(err.message);\n            localStorage.clear();\n            this.$router.push('/login');\n            this.$root.$refs.Navbar.reloadNav();\n            console.log('Invalid Token');\n        }\n    },\n    methods: {\n        handleSubmit: async function changePassowrd() {\n            if (this.password === this.password_confirm) {\n                let submitButton = document.getElementById('submitButton');\n                submitButton.disabled = true;\n                submitButton.className =\n                    'w-full px-4 py-2 font-bold text-black bg-grey-500 rounded-full hover:bg-grey-700 focus:outline-none focus:shadow-outline';\n                try {\n                    const res = await this.axios.post(\n                        'http://localhost:3000/updatePassword',\n                        {\n                            password: this.password\n                        },\n                        {\n                            headers: {\n                                Authorization: `Bearer ${this.$route.params.token}`\n                            }\n                        }\n                    );\n                    if (res.status === 200) {\n                        window.alert('Passowrd Successfully Updated!');\n                        this.$router.push('/login');\n                    }\n                } catch (e) {\n                    window.alert('Request could not be completed. Please try again later. Error: ' + e.message);\n                }\n            } else {\n                window.alert('Passowrds do not match!');\n            }\n        }\n    }\n};\n</script>\n"],"sourceRoot":"src/components/auth"}]}