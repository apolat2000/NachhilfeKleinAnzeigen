{"remainingRequest":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/babel-loader/lib/index.js!/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/src/components/Registration-Form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/src/components/Registration-Form.vue","mtime":1612461286129},{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9haG1ldC9EZXNrdG9wL05hY2hoaWxmZWtsZWluYW56ZWlnZW4vZ3J1cHBlMDcvZ3J1cHBlMDcvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1JlZ2lzdHJhdGlvbkZvcm0nLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmaXJzdE5hbWU6ICcnLAogICAgICBsYXN0TmFtZTogJycsCiAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgZW1haWw6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIHZhbHVlOiBbXSwKICAgICAgb3B0aW9uczogW10sCiAgICAgIGltYWdlOiAnJwogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIC8vdXNlciBpcyBub3QgYXV0aG9yaXplZCA9PiBSZW1haW4gYXQgbG9naW4gcGFnZQogICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3RfdG9rZW4nKSAhPT0gbnVsbCkgewogICAgICAvL3RoaXMuJHJvdXRlci5wdXNoKCcvaG9tZScpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgfQoKICAgIHRoaXMuYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvbGVjdHVyZXMnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgX3RoaXMub3B0aW9ucyA9IHJlcy5kYXRhOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UodmFsdWUpIHsKICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlOwogICAgfSwKICAgIHByb2Nlc3NGaWxlOiBmdW5jdGlvbiBwcm9jZXNzRmlsZShldmVudCkgewogICAgICB0aGlzLmltYWdlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdOwogICAgfSwKICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2NyZWF0ZUFjY291bnQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGxlY3R1cmVzSUQsIHVzZXIsIGZvcm1EYXRhLCBuZXdVc2VyOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgbGVjdHVyZXNJRCA9IFtdOwogICAgICAgICAgICAgICAgdGhpcy52YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uIChsZWN0dXJlKSB7CiAgICAgICAgICAgICAgICAgIGxlY3R1cmVzSUQucHVzaChsZWN0dXJlLl9pZCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHVzZXIgPSB7CiAgICAgICAgICAgICAgICAgIGZpcnN0X25hbWU6IHRoaXMuZmlyc3ROYW1lLAogICAgICAgICAgICAgICAgICBsYXN0X25hbWU6IHRoaXMubGFzdE5hbWUsCiAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgICBlbWFpbDogdGhpcy5lbWFpbCwKICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsCiAgICAgICAgICAgICAgICAgIGV4cGVydF9vZl9sZWN0dXJlczogbGVjdHVyZXNJRCwKICAgICAgICAgICAgICAgICAgaW1nOiB0aGlzLmltYWdlCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHVzZXIpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gZm9ybURhdGEuYXBwZW5kKGtleSwgdXNlcltrZXldKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5heGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvdXNlcnMnLCBmb3JtRGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIG5ld1VzZXIgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0FjY291bnQgY3JlYXRlZCcpOwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2p3dF90b2tlbicsIG5ld1VzZXIuZGF0YS5qd3RfdG9rZW4pOwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJJRCcsIG5ld1VzZXIuZGF0YS51c2VySUQpOwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2ZpcnN0TmFtZScsIG5ld1VzZXIuZGF0YS5maXJzdF9uYW1lKTsgLy90aGlzLiRyb3V0ZXIucHVzaCgnL2hvbWUnKTsKCiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kcmVmcy5OYXZiYXIucmVsb2FkTmF2KCk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICB3aW5kb3cuYWxlcnQoJ0FjY291bnQgY291bGQgbm90IGJlIGNyZWF0ZWQnLCBfY29udGV4dC50MCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dC50MC5yZXNwb25zZSk7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzLCBbWzAsIDE3XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBjcmVhdGVBY2NvdW50KCkgewogICAgICAgIHJldHVybiBfY3JlYXRlQWNjb3VudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gY3JlYXRlQWNjb3VudDsKICAgIH0oKQogIH0KfTs="},{"version":3,"sources":["Registration-Form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA,eAAA;AACA,EAAA,IAAA,EAAA,kBADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,KAAA,EAAA,EAJA;AAKA,MAAA,QAAA,EAAA,EALA;AAMA,MAAA,KAAA,EAAA,EANA;AAOA,MAAA,OAAA,EAAA,EAPA;AAQA,MAAA,KAAA,EAAA;AARA,KAAA;AAUA,GAbA;AAcA,EAAA,OAdA,qBAcA;AAAA;;AACA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,WAAA,MAAA,IAAA,EAAA;AACA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;;AACA,SAAA,KAAA,CAAA,GAAA,CAAA,gCAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,OAAA,GAAA,GAAA,CAAA,IAAA;AACA,KAFA;AAGA,GAvBA;AAwBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,KADA,EACA;AACA,WAAA,KAAA,GAAA,KAAA;AACA,KAHA;AAIA,IAAA,WAJA,uBAIA,KAJA,EAIA;AACA,WAAA,KAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,KANA;AAOA,IAAA,YAAA;AAAA,mFAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,gBAAA,UAFA,GAEA,EAFA;AAGA,qBAAA,KAAA,CAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,kBAAA,UAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAAA;AACA,iBAFA;AAGA,gBAAA,IANA,GAMA;AACA,kBAAA,UAAA,EAAA,KAAA,SADA;AAEA,kBAAA,SAAA,EAAA,KAAA,QAFA;AAGA,kBAAA,QAAA,EAAA,KAAA,QAHA;AAIA,kBAAA,KAAA,EAAA,KAAA,KAJA;AAKA,kBAAA,QAAA,EAAA,KAAA,QALA;AAMA,kBAAA,kBAAA,EAAA,UANA;AAOA,kBAAA,GAAA,EAAA,KAAA;AAPA,iBANA;AAeA,gBAAA,QAfA,GAeA,IAAA,QAAA,EAfA;AAgBA,gBAAA,MAAA,CAAA,IAAA,CAAA,IAAA,EAAA,OAAA,CAAA,UAAA,GAAA;AAAA,yBAAA,QAAA,CAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,GAAA,CAAA,CAAA;AAAA,iBAAA;AAhBA;AAAA,uBAiBA,KAAA,KAAA,CAAA,IAAA,CAAA,6BAAA,EAAA,QAAA,CAjBA;;AAAA;AAiBA,gBAAA,OAjBA;AAkBA,gBAAA,OAAA,CAAA,GAAA,CAAA,iBAAA;AACA,gBAAA,YAAA,CAAA,OAAA,CAAA,WAAA,EAAA,OAAA,CAAA,IAAA,CAAA,SAAA;AACA,gBAAA,YAAA,CAAA,OAAA,CAAA,QAAA,EAAA,OAAA,CAAA,IAAA,CAAA,MAAA;AACA,gBAAA,YAAA,CAAA,OAAA,CAAA,WAAA,EAAA,OAAA,CAAA,IAAA,CAAA,UAAA,EArBA,CAsBA;;AACA,qBAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,qBAAA,KAAA,CAAA,KAAA,CAAA,MAAA,CAAA,SAAA;AAxBA;AAAA;;AAAA;AAAA;AAAA;AA0BA,gBAAA,MAAA,CAAA,KAAA,CAAA,8BAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,YAAA,QAAA;;AA3BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA,eAAA,aAAA;AAAA;AAAA;;AAAA,aAAA,aAAA;AAAA;AAPA;AAxBA,CAAA","sourcesContent":["<template>\n    <!-- component -->\n    <div class=\"bg-grey-lighter flex flex-col\">\n        <div class=\"container pt-16 max-w-sm mx-auto flex-1 flex flex-col items-center justify-center px-2\">\n            <div class=\"bg-white px-6 py-8 rounded shadow-md text-black w-full\">\n                <h1 class=\"mb-8 text-3xl text-center\">Create an account</h1>\n                <form @submit.prevent=\"handleSubmit\" method=\"POST\">\n                    <input\n                        type=\"text\"\n                        class=\"block border border-grey-light w-full p-3 rounded mb-4\"\n                        name=\"firstName\"\n                        id=\"firstName\"\n                        v-model=\"firstName\"\n                        placeholder=\"First name\"\n                        required\n                    />\n\n                    <input\n                        type=\"text\"\n                        class=\"block border border-grey-light w-full p-3 rounded mb-4\"\n                        name=\"lastName\"\n                        id=\"lastName\"\n                        v-model=\"lastName\"\n                        placeholder=\"Last name\"\n                        required\n                    />\n\n                    <input\n                        type=\"text\"\n                        class=\"block border border-grey-light w-full p-3 rounded mb-4\"\n                        name=\"username\"\n                        id=\"username\"\n                        v-model=\"username\"\n                        placeholder=\"Username\"\n                        required\n                    />\n\n                    <input\n                        type=\"email\"\n                        class=\"block border border-grey-light w-full p-3 rounded mb-4\"\n                        name=\"email\"\n                        id=\"email\"\n                        v-model=\"email\"\n                        placeholder=\"Email\"\n                        required\n                    />\n\n\n                    <label for=\"image\">\n                        Profile Picture\n                    </label>\n                    <input\n                        type=\"file\"\n                        single\n                        class=\"block border border-grey-light w-full p-3 rounded mb-4\"\n                        name=\"image\"\n                        id=\"image\"\n                        accept=\".png, .jpeg, .jpg\"\n                        @change=\"processFile($event)\"\n                    />\n\n                    \n                    <input\n                        type=\"password\"\n                        class=\"block border border-grey-light w-full p-3 rounded mb-4\"\n                        name=\"password\"\n                        id=\"password\"\n                        v-model=\"password\"\n                        placeholder=\"Password\"\n                        required\n                    />\n\n                    <multiselect\n                        v-model=\"value\"\n                        :options=\"options\"\n                        label=\"title\"\n                        track-by=\"title\"\n                        :multiple=\"true\"\n                        :close-on-select=\"true\"\n                        @input=\"onChange\"\n                        placeholder=\"Select lectures you are expert in\"\n                    ></multiselect>\n\n                    <input\n                        type=\"submit\"\n                        class=\"w-full text-center text-white py-3 rounded bg-green-500 text-black hover:bg-green-600 focus:outline-none my-1 cursor-pointer\"\n                        value=\"Sign me up!\"\n                    />\n                </form>\n                <div class=\"text-center text-sm text-grey-dark mt-4\">\n                    By signing up, you agree to the\n                    <router-link to=\"/register\">Terms of service</router-link>\n                    and\n                    <router-link to=\"/register\">Privacy Policy</router-link>\n                </div>\n            </div>\n\n            <div class=\"text-grey-dark mt-6\">\n                Already have an account?\n                <router-link to=\"/login\">Login</router-link>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'RegistrationForm',\n    data() {\n        return {\n            firstName: '',\n            lastName: '',\n            username: '',\n            email: '',\n            password: '',\n            value: [],\n            options: [],\n            image: '',\n        };\n    },\n    created() {\n        //user is not authorized => Remain at login page\n        if (localStorage.getItem('jwt_token') !== null) {\n            //this.$router.push('/home');\n            this.$router.push('/');\n        }\n        this.axios.get('http://localhost:3000/lectures').then(res => {\n            this.options = res.data;\n        });\n    },\n    methods: {\n        onChange(value) {\n            this.value = value;\n        },\n        processFile(event) {\n            this.image = event.target.files[0]\n        },\n        handleSubmit: async function createAccount() {\n            try {\n                var lecturesID = [];\n                this.value.forEach(lecture => {\n                    lecturesID.push(lecture._id);\n                });\n                let user = {\n                    first_name: this.firstName,\n                    last_name: this.lastName,\n                    username: this.username,\n                    email: this.email,\n                    password: this.password,\n                    expert_of_lectures: lecturesID,\n                    img: this.image,\n                };\n                var formData = new FormData();\n                Object.keys(user).forEach(key => formData.append(key, user[key]));\n                let newUser = await this.axios.post('http://localhost:3000/users', formData);\n                console.log('Account created');\n                localStorage.setItem('jwt_token', newUser.data.jwt_token);\n                localStorage.setItem('userID', newUser.data.userID);\n                localStorage.setItem('firstName', newUser.data.first_name);\n                //this.$router.push('/home');\n                this.$router.push('/');\n                this.$root.$refs.Navbar.reloadNav();\n            } catch (err) {\n                window.alert('Account could not be created', err)\n                console.log(err.response);\n            }\n        },\n    },\n};\n</script>\n"],"sourceRoot":"src/components"}]}