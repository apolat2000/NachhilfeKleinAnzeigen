{"remainingRequest":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/babel-loader/lib/index.js!/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/src/components/Registration-Form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/src/components/Registration-Form.vue","mtime":1609422941217},{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvYWhtZXQvRGVza3RvcC9OYWNoaGlsZmVrbGVpbmFuemVpZ2VuL2dydXBwZTA3L2dydXBwZTA3L2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdSZWdpc3RyYXRpb25Gb3JtJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmlyc3ROYW1lOiAnJywKICAgICAgbGFzdE5hbWU6ICcnLAogICAgICB1c2VybmFtZTogJycsCiAgICAgIGVtYWlsOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICB2YWx1ZTogW10sCiAgICAgIG9wdGlvbnM6IFtdCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgLy91c2VyIGlzIG5vdCBhdXRob3JpemVkID0+IFJlbWFpbiBhdCBsb2dpbiBwYWdlCiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dF90b2tlbicpICE9PSBudWxsKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvaG9tZScpOwogICAgfQoKICAgIHRoaXMuYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvbGVjdHVyZXMnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgX3RoaXMub3B0aW9ucyA9IHJlcy5kYXRhOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UodmFsdWUpIHsKICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlOwogICAgfSwKICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2NyZWF0ZUFjY291bnQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGxlY3R1cmVzSUQsIHVzZXIsIG5ld1VzZXI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgICBsZWN0dXJlc0lEID0gW107CiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlLmZvckVhY2goZnVuY3Rpb24gKGxlY3R1cmUpIHsKICAgICAgICAgICAgICAgICAgbGVjdHVyZXNJRC5wdXNoKGxlY3R1cmUuX2lkKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdXNlciA9IHsKICAgICAgICAgICAgICAgICAgZmlyc3RfbmFtZTogdGhpcy5maXJzdE5hbWUsCiAgICAgICAgICAgICAgICAgIGxhc3RfbmFtZTogdGhpcy5sYXN0TmFtZSwKICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwKICAgICAgICAgICAgICAgICAgZXhwZXJ0X29mX2xlY3R1cmVzOiBsZWN0dXJlc0lECiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2codXNlcik7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC91c2VycycsIHVzZXIpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBuZXdVc2VyID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBY2NvdW50IGNyZWF0ZWQnKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdqd3RfdG9rZW4nLCBuZXdVc2VyLmRhdGEuand0X3Rva2VuKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VySUQnLCBuZXdVc2VyLmRhdGEudXNlcklEKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmaXJzdE5hbWUnLCBuZXdVc2VyLmRhdGEuZmlyc3RfbmFtZSk7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2hvbWUnKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE1OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBY2NvdW50IGNvdWxkIG5vdCBiZSBjcmVhdGVkJyk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dC50MC5yZXNwb25zZSk7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzLCBbWzAsIDE1XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBjcmVhdGVBY2NvdW50KCkgewogICAgICAgIHJldHVybiBfY3JlYXRlQWNjb3VudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gY3JlYXRlQWNjb3VudDsKICAgIH0oKQogIH0KfTs="},{"version":3,"sources":["Registration-Form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA,eAAA;AACA,EAAA,IAAA,EAAA,kBADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,KAAA,EAAA,EAJA;AAKA,MAAA,QAAA,EAAA,EALA;AAMA,MAAA,KAAA,EAAA,EANA;AAOA,MAAA,OAAA,EAAA;AAPA,KAAA;AASA,GAZA;AAaA,EAAA,OAbA,qBAaA;AAAA;;AACA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,WAAA,MAAA,IAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA;;AACA,SAAA,KAAA,CAAA,GAAA,CAAA,gCAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,OAAA,GAAA,GAAA,CAAA,IAAA;AACA,KAFA;AAGA,GArBA;AAsBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,KADA,EACA;AACA,WAAA,KAAA,GAAA,KAAA;AACA,KAHA;AAIA,IAAA,YAAA;AAAA,mFAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,gBAAA,UAFA,GAEA,EAFA;AAGA,qBAAA,KAAA,CAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,kBAAA,UAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAAA;AACA,iBAFA;AAGA,gBAAA,IANA,GAMA;AACA,kBAAA,UAAA,EAAA,KAAA,SADA;AAEA,kBAAA,SAAA,EAAA,KAAA,QAFA;AAGA,kBAAA,QAAA,EAAA,KAAA,QAHA;AAIA,kBAAA,KAAA,EAAA,KAAA,KAJA;AAKA,kBAAA,QAAA,EAAA,KAAA,QALA;AAMA,kBAAA,kBAAA,EAAA;AANA,iBANA;AAcA,gBAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AAdA;AAAA,uBAeA,KAAA,KAAA,CAAA,IAAA,CAAA,6BAAA,EAAA,IAAA,CAfA;;AAAA;AAeA,gBAAA,OAfA;AAgBA,gBAAA,OAAA,CAAA,GAAA,CAAA,iBAAA;AACA,gBAAA,YAAA,CAAA,OAAA,CAAA,WAAA,EAAA,OAAA,CAAA,IAAA,CAAA,SAAA;AACA,gBAAA,YAAA,CAAA,OAAA,CAAA,QAAA,EAAA,OAAA,CAAA,IAAA,CAAA,MAAA;AACA,gBAAA,YAAA,CAAA,OAAA,CAAA,WAAA,EAAA,OAAA,CAAA,IAAA,CAAA,UAAA;AACA,qBAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AApBA;AAAA;;AAAA;AAAA;AAAA;AAsBA,gBAAA,OAAA,CAAA,GAAA,CAAA,8BAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,YAAA,QAAA;;AAvBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA,eAAA,aAAA;AAAA;AAAA;;AAAA,aAAA,aAAA;AAAA;AAJA;AAtBA,CAAA","sourcesContent":["<template>\n    <!-- component -->\n    <div class=\"bg-grey-lighter min-h-screen flex flex-col\">\n        <div class=\"container max-w-sm mx-auto flex-1 flex flex-col items-center justify-center px-2\">\n            <div class=\"bg-white px-6 py-2 rounded shadow-md text-black w-full\">\n                <h1 class=\"mb-8 text-3xl text-center\">Create an account</h1>\n                <form @submit.prevent=\"handleSubmit\" method=\"POST\">\n                    <input\n                        type=\"text\"\n                        class=\"block border border-grey-light w-full p-3 rounded mb-4\"\n                        name=\"firstName\"\n                        id=\"firstName\"\n                        v-model=\"firstName\"\n                        placeholder=\"First name\"\n                        required\n                    />\n\n                    <input\n                        type=\"text\"\n                        class=\"block border border-grey-light w-full p-3 rounded mb-4\"\n                        name=\"lastName\"\n                        id=\"lastName\"\n                        v-model=\"lastName\"\n                        placeholder=\"Last name\"\n                        required\n                    />\n\n                    <input\n                        type=\"text\"\n                        class=\"block border border-grey-light w-full p-3 rounded mb-4\"\n                        name=\"username\"\n                        id=\"username\"\n                        v-model=\"username\"\n                        placeholder=\"Username\"\n                        required\n                    />\n\n                    <input\n                        type=\"email\"\n                        class=\"block border border-grey-light w-full p-3 rounded mb-4\"\n                        name=\"email\"\n                        id=\"email\"\n                        v-model=\"email\"\n                        placeholder=\"Email\"\n                        required\n                    />\n\n                    <input\n                        type=\"password\"\n                        class=\"block border border-grey-light w-full p-3 rounded mb-4\"\n                        name=\"password\"\n                        id=\"password\"\n                        v-model=\"password\"\n                        placeholder=\"Password\"\n                        required\n                    />\n\n                    <multiselect\n                        v-model=\"value\"\n                        :options=\"options\"\n                        label=\"title\"\n                        track-by=\"title\"\n                        :multiple=\"true\"\n                        :close-on-select=\"true\"\n                        @input=\"onChange\"\n                        placeholder=\"Select lectures you are expert in\"\n                    ></multiselect>\n\n                    <input\n                        type=\"submit\"\n                        class=\"w-full text-center py-3 rounded bg-green text-black hover:bg-green-dark focus:outline-none my-1\"\n                        value=\"Sign me up!\"\n                    />\n                </form>\n                <div class=\"text-center text-sm text-grey-dark mt-4\">\n                    By signing up, you agree to the\n                    <router-link to=\"/register\">Terms of service</router-link>\n                    and\n                    <router-link to=\"/register\">Privacy Policy</router-link>\n                </div>\n            </div>\n\n            <div class=\"text-grey-dark mt-6\">\n                Already have an account?\n                <router-link to=\"/login\">Login</router-link>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'RegistrationForm',\n    data() {\n        return {\n            firstName: '',\n            lastName: '',\n            username: '',\n            email: '',\n            password: '',\n            value: [],\n            options: []\n        };\n    },\n    created() {\n        //user is not authorized => Remain at login page\n        if (localStorage.getItem('jwt_token') !== null) {\n            this.$router.push('/home');\n        }\n        this.axios.get('http://localhost:3000/lectures').then(res => {\n            this.options = res.data;\n        });\n    },\n    methods: {\n        onChange(value) {\n            this.value = value;\n        },\n        handleSubmit: async function createAccount() {\n            try {\n                var lecturesID = [];\n                this.value.forEach(lecture => {\n                    lecturesID.push(lecture._id);\n                });\n                let user = {\n                    first_name: this.firstName,\n                    last_name: this.lastName,\n                    username: this.username,\n                    email: this.email,\n                    password: this.password,\n                    expert_of_lectures: lecturesID\n                };\n                console.log(user);\n                let newUser = await this.axios.post('http://localhost:3000/users', user);\n                console.log('Account created');\n                localStorage.setItem('jwt_token', newUser.data.jwt_token);\n                localStorage.setItem('userID', newUser.data.userID);\n                localStorage.setItem('firstName', newUser.data.first_name);\n                this.$router.push('/home');\n            } catch (err) {\n                console.log('Account could not be created');\n                console.log(err.response);\n            }\n        }\n    }\n};\n</script>\n"],"sourceRoot":"src/components"}]}