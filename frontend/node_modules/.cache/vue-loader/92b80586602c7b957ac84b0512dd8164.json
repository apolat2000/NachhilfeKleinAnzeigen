{"remainingRequest":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/src/components/CommentItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/src/components/CommentItem.vue","mtime":1612343343921},{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKZXhwb3J0IGRlZmF1bHQgewogICAgcHJvcHM6IHsKICAgICAgICBjb21tZW50OiB7fSwKICAgIH0sCiAgICBjb21wb25lbnQ6IHsKICAgICAgICBtb21lbnQsCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGdldERhdGVUaW1lKHZhbCkgewogICAgICAgICAgICByZXR1cm4gbW9tZW50KHZhbCk7CiAgICAgICAgfSwKICAgICAgICBnZXRJbWFnZSgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuY29tbWVudC51c2VySWQpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbW1lbnQudXNlcklkLmltZ1BhdGgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC8nICsgdGhpcy5jb21tZW50LnVzZXJJZC5pbWdQYXRoOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAnaHR0cHM6Ly9jZG4xLmljb25maW5kZXIuY29tL2RhdGEvaWNvbnMvdGVjaG5vbG9neS1kZXZpY2VzLTIvMTAwL1Byb2ZpbGUtNTEyLnBuZyc7CiAgICAgICAgfSwKICAgICAgICBpc0NvbW1lbnRlcigpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tbWVudC51c2VySWQuX2lkID09PSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcklEJyk7CiAgICAgICAgfSwKICAgICAgICBhc3luYyBkZWxldGVDb21tZW50KCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgdmFyIHJlcyA9IGF3YWl0IHRoaXMuYXhpb3MuZGVsZXRlKCdodHRwOi8vbG9jYWxob3N0OjMwMDAvZGlzY3Vzc2lvbi8nICsgdGhpcy4kcm91dGUucGFyYW1zLmlkLCB7CiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dF90b2tlbicpfWAsCiAgICAgICAgICAgICAgICAgICAgICAgIENvbW1lbnRJZCA6IHRoaXMuY29tbWVudC5faWQKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAvL2lmIHN1Y2Nlc3NmdWxsCiAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgncmVsb2FkQ29tbWVudHMnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICBhbGVydCgnQW4gZXJyb3Igb2NjdXJlZDogJywgZXJyKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICB9LAp9Owo="},{"version":3,"sources":["CommentItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CommentItem.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div\n        class=\"bg-gray-300 rounded-lg p-3 flex flex-col justify-center items-center md:items-start shadow-lg mb-4\"\n        v-if=\"comment.userId\"\n    >\n        <div class=\"flex flex-row justify-center mr-2\">\n            <img\n                alt=\"avatar\"\n                width=\"48\"\n                height=\"48\"\n                class=\"rounded-full w-10 h-10 mr-4 shadow-lg mb-4\"\n                :src=\"getImage()\"\n            />\n            <h3>\n                <router-link :to=\"`/profile/${comment.userId._id}`\">\n                    <div class=\"text-purple-600 font-semibold text-lg text-center md:text-left\">\n                        @{{ comment.userId.username }}\n                    </div>\n                </router-link>\n                {{ getDateTime(comment.creation_date) }}\n            </h3>\n        </div>\n        <p style=\"width: 100%\" class=\"text-gray-600 text-lg text-center md:text-left\">\n            {{ comment.value }}\n        </p>\n\n        <div v-if=\"isCommenter()\" style=\"float: right\">\n            <button class=\"content-center\" title=\"Delete Comment\">\n                <img src=\"../assets/full-trash.png\" class=\"h-8\" width=\"32\" height=\"25\" @click=\"deleteComment()\"/>\n            </button>\n        </div>\n    </div>\n</template>\n<script>\nimport moment from 'moment';\nexport default {\n    props: {\n        comment: {},\n    },\n    component: {\n        moment,\n    },\n    methods: {\n        getDateTime(val) {\n            return moment(val);\n        },\n        getImage() {\n            if (this.comment.userId) {\n                if (this.comment.userId.imgPath) {\n                    return 'http://localhost:3000/' + this.comment.userId.imgPath;\n                }\n            }\n            return 'https://cdn1.iconfinder.com/data/icons/technology-devices-2/100/Profile-512.png';\n        },\n        isCommenter() {\n            return this.comment.userId._id === localStorage.getItem('userID');\n        },\n        async deleteComment() {\n            try {\n                var res = await this.axios.delete('http://localhost:3000/discussion/' + this.$route.params.id, {\n                    headers: {\n                        Authorization: `Bearer ${localStorage.getItem('jwt_token')}`,\n                        CommentId : this.comment._id\n                    },\n                });\n                //if successfull\n                if (res.status === 200) {\n                    this.$emit('reloadComments');\n                }\n            } catch (err) {\n                alert('An error occured: ', err);\n            }\n        },\n    },\n};\n</script>"]}]}