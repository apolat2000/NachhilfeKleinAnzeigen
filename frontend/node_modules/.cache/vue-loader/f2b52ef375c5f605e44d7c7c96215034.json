{"remainingRequest":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/src/components/tutorial/comment/CommentItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/src/components/tutorial/comment/CommentItem.vue","mtime":1612773362631},{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKZXhwb3J0IGRlZmF1bHQgewogICAgcHJvcHM6IHsKICAgICAgICBjb21tZW50OiB7fQogICAgfSwKICAgIGNvbXBvbmVudDogewogICAgICAgIG1vbWVudAogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBnZXREYXRlVGltZSh2YWwpIHsKICAgICAgICAgICAgcmV0dXJuIG1vbWVudCh2YWwpOwogICAgICAgIH0sCiAgICAgICAgZ2V0SW1hZ2UoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmNvbW1lbnQudXNlcklkKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb21tZW50LnVzZXJJZC5pbWdQYXRoKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdodHRwOi8vbG9jYWxob3N0OjMwMDAvJyArIHRoaXMuY29tbWVudC51c2VySWQuaW1nUGF0aDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gJ2h0dHBzOi8vY2RuMS5pY29uZmluZGVyLmNvbS9kYXRhL2ljb25zL3RlY2hub2xvZ3ktZGV2aWNlcy0yLzEwMC9Qcm9maWxlLTUxMi5wbmcnOwogICAgICAgIH0sCiAgICAgICAgaXNDb21tZW50ZXIoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbW1lbnQudXNlcklkLl9pZCA9PT0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJRCcpOwogICAgICAgIH0sCiAgICAgICAgYXN5bmMgZGVsZXRlQ29tbWVudCgpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHZhciByZXMgPSBhd2FpdCB0aGlzLmF4aW9zLmRlbGV0ZSgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2Rpc2N1c3Npb24vJyArIHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwgewogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2xvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3RfdG9rZW4nKX1gLAogICAgICAgICAgICAgICAgICAgICAgICBDb21tZW50SWQ6IHRoaXMuY29tbWVudC5faWQKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdyZWxvYWRDb21tZW50cycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCdBbiBlcnJvciBvY2N1cmVkOiAnLCBlcnIpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Owo="},{"version":3,"sources":["CommentItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CommentItem.vue","sourceRoot":"src/components/tutorial/comment","sourcesContent":["<template>\n    <div\n        class=\"bg-gray-300 rounded-lg p-3 flex flex-col justify-center items-center md:items-start shadow-lg mb-4\"\n        v-if=\"comment.userId\"\n    >\n        <div class=\"flex flex-row justify-center mr-2\">\n            <img\n                alt=\"avatar\"\n                width=\"48\"\n                height=\"48\"\n                class=\"rounded-full w-10 h-10 mr-4 shadow-lg mb-4\"\n                :src=\"getImage()\"\n            />\n            <h3>\n                <router-link :to=\"`/profile/${comment.userId._id}`\">\n                    <div class=\"text-purple-600 font-semibold text-lg text-center md:text-left\">\n                        @{{ comment.userId.username }}\n                    </div>\n                </router-link>\n                {{ getDateTime(comment.creation_date) }}\n            </h3>\n        </div>\n        <p style=\"width: 100%\" class=\"text-gray-600 text-lg text-center md:text-left\">\n            {{ comment.value }}\n        </p>\n\n        <div v-if=\"isCommenter()\" style=\"float: right\">\n            <button class=\"content-center\" title=\"Delete Comment\">\n                <img\n                    src=\"../../../assets/full-trash.png\"\n                    class=\"h-8\"\n                    width=\"32\"\n                    height=\"25\"\n                    @click=\"deleteComment()\"\n                />\n            </button>\n        </div>\n    </div>\n</template>\n<script>\nimport moment from 'moment';\nexport default {\n    props: {\n        comment: {}\n    },\n    component: {\n        moment\n    },\n    methods: {\n        getDateTime(val) {\n            return moment(val);\n        },\n        getImage() {\n            if (this.comment.userId) {\n                if (this.comment.userId.imgPath) {\n                    return 'http://localhost:3000/' + this.comment.userId.imgPath;\n                }\n            }\n            return 'https://cdn1.iconfinder.com/data/icons/technology-devices-2/100/Profile-512.png';\n        },\n        isCommenter() {\n            return this.comment.userId._id === localStorage.getItem('userID');\n        },\n        async deleteComment() {\n            try {\n                var res = await this.axios.delete('http://localhost:3000/discussion/' + this.$route.params.id, {\n                    headers: {\n                        Authorization: `Bearer ${localStorage.getItem('jwt_token')}`,\n                        CommentId: this.comment._id\n                    }\n                });\n                if (res.status === 200) {\n                    this.$emit('reloadComments');\n                }\n            } catch (err) {\n                alert('An error occured: ', err);\n            }\n        }\n    }\n};\n</script>\n"]}]}