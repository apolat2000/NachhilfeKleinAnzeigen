{"remainingRequest":"/home/ahmet/Desktop/OldProjects/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ahmet/Desktop/OldProjects/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/src/components/tutorial/Tutorials.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ahmet/Desktop/OldProjects/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/src/components/tutorial/Tutorials.vue","mtime":1612773362631},{"path":"/home/ahmet/Desktop/OldProjects/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ahmet/Desktop/OldProjects/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ahmet/Desktop/OldProjects/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ahmet/Desktop/OldProjects/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUdXRvcmlhbHNJdGVtIGZyb20gJy4vVHV0b3JpYWxzSXRlbS52dWUnOwppbXBvcnQgVHV0b3JpYWxzUGFnZXMgZnJvbSAnLi9UdXRvcmlhbHNQYWdlcy52dWUnOwoKZXhwb3J0IGRlZmF1bHQgewogICAgY29tcG9uZW50czogeyBUdXRvcmlhbHNJdGVtLCBUdXRvcmlhbHNQYWdlcyB9LAogICAgbmFtZTogJ1R1dG9yaWFscycsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHR1dG9yaWFsczogW10sCiAgICAgICAgICAgIGlzRWRpdGFibGU6IHsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgICAgICAgICB9LAogICAgICAgICAgICBwYWdlOiAxLAogICAgICAgICAgICB1c2VyOiB7fSwKICAgICAgICAgICAgc2VhcmNoVmFsdWU6ICcnLAogICAgICAgICAgICBmaWx0ZXJlZFR1dHM6IFtdLAogICAgICAgICAgICBhbGxUdXRzOiBbXSwKICAgICAgICB9OwogICAgfSwKICAgIGFzeW5jIGNyZWF0ZWQoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgLy91c2VyIGlzIG5vdCBhdXRob3JpemVkID0+IFJlbWFpbiBhdCBsb2dpbiBwYWdlCiAgICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0X3Rva2VuJykgPT09IG51bGwpIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmFsbFR1dHMgPSBhd2FpdCB0aGlzLmF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL3R1dG9yaWFscycsIHsKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dF90b2tlbicpfWAsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy5hbGxUdXRzID0gdGhpcy5hbGxUdXRzLmRhdGEuZmlsdGVyKAogICAgICAgICAgICAgICAgZWxlbWVudCA9PiBlbGVtZW50LnR1dG9yICE9IG51bGwgJiYgZWxlbWVudC5sZWN0dXJlICE9IG51bGwgJiYgRGF0ZS5wYXJzZShlbGVtZW50LmRhdGUpID49IERhdGUubm93KCkKICAgICAgICAgICAgKTsKICAgICAgICAgICAgdGhpcy5hbGxUdXRzID0gdGhpcy5hbGxUdXRzLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGEuZGF0ZSkgLSBuZXcgRGF0ZShiLmRhdGUpKTsgLy9Tb3J0IHR1dG9yaWFscyBieSBkYXRlIGFzYwogICAgICAgICAgICB0aGlzLmZpbHRlcmVkVHV0cyA9IHRoaXMuYWxsVHV0czsKICAgICAgICAgICAgdGhpcy5ncmFiVXNlclR1dHMoKTsKICAgICAgICB9IGNhdGNoIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ1lvdSBhcmUgbm90IGF1dGhvcml6ZWQgdG8gYWNjZXNzIHRoaXMgcGFnZScpOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICAgICAgICB0aGlzLiRyb290LiRyZWZzLk5hdmJhci5yZWxvYWROYXYoKTsKICAgICAgICAgICAgY29uc29sZS5sb2coJ0xvZ2dlZCBvdXQnKTsKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGdldFVzZXJJZCgpIHsKICAgICAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySUQnKTsKICAgICAgICB9LAogICAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlKGN1cnJlbnRQYWdlKSB7CiAgICAgICAgICAgIHRoaXMucGFnZSA9IGN1cnJlbnRQYWdlOwogICAgICAgIH0sCiAgICAgICAgZmlsdGVyVHV0KCkgewogICAgICAgICAgICB0aGlzLmZpbHRlcmVkVHV0cyA9IHRoaXMuYWxsVHV0czsKICAgICAgICAgICAgaWYgKHRoaXMuc2VhcmNoVmFsdWUubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJlZFR1dHMgPSB0aGlzLmFsbFR1dHMuZmlsdGVyKHR1dCA9PgogICAgICAgICAgICAgICAgICAgIHR1dC5sZWN0dXJlLnRpdGxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModGhpcy5zZWFyY2hWYWx1ZS50b0xvd2VyQ2FzZSgpKQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRQYWdlKDEpOwogICAgICAgIH0sCiAgICAgICAgYXN5bmMgZ3JhYlVzZXJUdXRzKCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29uc3Qgand0X3Rva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dF90b2tlbicpOwogICAgICAgICAgICAgICAgaWYgKGp3dF90b2tlbikgewogICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLmF4aW9zLnBvc3QoCiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwOi8vbG9jYWxob3N0OjMwMDAvdmVyaWZ5UmVmcmVzaFRva2VuJywKICAgICAgICAgICAgICAgICAgICAgICAge30sCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7and0X3Rva2VufWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdqd3RfdG9rZW4nLCByZXN1bHQuZGF0YS5qd3RfdG9rZW4pOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXNlciA9IGF3YWl0IHRoaXMuYXhpb3MuZ2V0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC91c2VyLycgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcklEJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dF90b2tlbicpfWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXIuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXNlckxlY3R1cmVzID0gdXNlci5kYXRhLnN0dWRlbnRfaW4ubWFwKHR1dG9yaWFsID0+IHR1dG9yaWFsLl9pZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1lvdSBhcmUgbm90IGF1dGhvcml6ZWQgdG8gYWNjZXNzIHRoaXMgcGFnZScpOwogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRyZWZzLk5hdmJhci5yZWxvYWROYXYoKTsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTG9nZ2VkIG91dCcpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpOwogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kcmVmcy5OYXZiYXIucmVsb2FkTmF2KCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTG9nZ2VkIG91dCcpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBhc3luYyBqb2luRHJvcFR1dChqb2luLCB0dXRvcmlhbElEKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCBqd3RfdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0X3Rva2VuJyk7CiAgICAgICAgICAgICAgICBpZiAoam9pbiAmJiAhdGhpcy51c2VyTGVjdHVyZXMuaW5jbHVkZXModHV0b3JpYWxJRCkpIHRoaXMudXNlckxlY3R1cmVzLnB1c2godHV0b3JpYWxJRCk7CiAgICAgICAgICAgICAgICBlbHNlIGlmICgham9pbiAmIHRoaXMudXNlckxlY3R1cmVzLmluY2x1ZGVzKHR1dG9yaWFsSUQpKSB0aGlzLnVzZXJMZWN0dXJlcyA9IHRoaXMudXNlckxlY3R1cmVzLmZpbHRlcih0dXRJRCA9PiB0dXRJRCAhPT0gdHV0b3JpYWxJRCkKICAgICAgICAgICAgICAgIGlmIChqd3RfdG9rZW4pIHsKICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdGhpcy5heGlvcy5wdXQoCiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwOi8vbG9jYWxob3N0OjMwMDAvdXNlci8nICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJRCcpLAogICAgICAgICAgICAgICAgICAgICAgICB7IHN0dWRlbnRfaW46IHRoaXMudXNlckxlY3R1cmVzIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7and0X3Rva2VufWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JhYlVzZXJUdXRzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqb2luKSB3aW5kb3cuYWxlcnQoIllvdSd2ZSBzdWNjZXNzZnVsbHkgam9pbmVkIHRoZSB0dXRvcmlhbCEiKTsKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB3aW5kb3cuYWxlcnQoIllvdSd2ZSBzdWNjZXNzZnVsbHkgZHJvcHBlZCB0aGUgdHV0b3JpYWwhIik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnWW91IGFyZSBub3QgYXV0aG9yaXplZCB0byBhY2Nlc3MgdGhpcyBwYWdlJyk7CiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJHJlZnMuTmF2YmFyLnJlbG9hZE5hdigpOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMb2dnZWQgb3V0Jyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgIH0sCn07Cg=="},{"version":3,"sources":["Tutorials.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6GA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Tutorials.vue","sourceRoot":"src/components/tutorial","sourcesContent":["<template>\n    <div>\n        <div class=\"flex flex-col\">\n            <h1 class=\"my-4 pb-4 text-2xl md:text-3xl lg:text-5xl font-black leading-tight\">Tutorials</h1>\n            <div class=\"pt-2 relative mx-auto text-gray-600\">\n                <input\n                    class=\"border-2 border-gray-300 bg-white h-10 px-5 pr-16 rounded-lg text-sm focus:shadow-outline\"\n                    type=\"search\"\n                    name=\"search\"\n                    v-model=\"searchValue\"\n                    placeholder=\"Search by subject name\"\n                    v-on:change=\"filterTut\"\n                />\n                <button type=\"submit\" class=\"absolute right-0 top-0 mt-5 mr-4\" v-on:click=\"filterTut\">\n                    <svg\n                        class=\"text-gray-600 h-4 w-4 fill-current\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n                        version=\"1.1\"\n                        id=\"Capa_1\"\n                        x=\"0px\"\n                        y=\"0px\"\n                        viewBox=\"0 0 56.966 56.966\"\n                        style=\"enable-background: new 0 0 56.966 56.966\"\n                        xml:space=\"preserve\"\n                        width=\"512px\"\n                        height=\"512px\"\n                    >\n                        <path\n                            d=\"M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z\"\n                        />\n                    </svg>\n                </button>\n            </div>\n            <br />\n            <div class=\"overflow-x-auto\">\n                <div class=\"align-middle inline-block\">\n                    <table class=\"min-w-full divide-y divide-gray-200 shadow-lg\">\n                        <thead class=\"bg-gray-50\">\n                            <tr>\n                                <th\n                                    scope=\"col\"\n                                    class=\"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                                >\n                                    Lecture\n                                </th>\n                                <th\n                                    scope=\"col\"\n                                    class=\"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                                >\n                                    Class size\n                                </th>\n                                <th\n                                    scope=\"col\"\n                                    class=\"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                                >\n                                    Title\n                                </th>\n                                <th\n                                    scope=\"col\"\n                                    class=\"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                                >\n                                    Status\n                                </th>\n                                <th\n                                    scope=\"col\"\n                                    class=\"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                                >\n                                    Specifics\n                                </th>\n                                <th\n                                    scope=\"col\"\n                                    class=\"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                                >\n                                    Tutorial page\n                                </th>\n                                <th\n                                    scope=\"col\"\n                                    class=\"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                                >\n                                    Actions\n                                </th>\n                            </tr>\n                        </thead>\n                        <tbody v-for=\"(tutorial, index) in filteredTuts\" v-bind:key=\"tutorial._id\">\n                            <tutorials-item\n                                @joinDropTut=\"joinDropTut\"\n                                v-bind:key=\"tutorial._id\"\n                                v-if=\"index < page * 10 && index >= (page - 1) * 10\"\n                                v-bind:canEdit=\"getUserId() == tutorial.tutor._id\"\n                                v-bind:tutorial=\"tutorial\"\n                                v-bind:order=\"tutorials.length\"\n                                v-bind:userLectures=\"userLectures\"\n                            />\n                        </tbody>\n                    </table>\n                    <tutorials-pages\n                        :tutorialsLength=\"filteredTuts.length\"\n                        :maxPages=\"Math.ceil(filteredTuts.length / 10.0)\"\n                        :currentPage=\"page\"\n                        @updateCurrentPage=\"updateCurrentPage($event)\"\n                    />\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport TutorialsItem from './TutorialsItem.vue';\nimport TutorialsPages from './TutorialsPages.vue';\n\nexport default {\n    components: { TutorialsItem, TutorialsPages },\n    name: 'Tutorials',\n    data() {\n        return {\n            tutorials: [],\n            isEditable: {\n                default: false,\n            },\n            page: 1,\n            user: {},\n            searchValue: '',\n            filteredTuts: [],\n            allTuts: [],\n        };\n    },\n    async created() {\n        try {\n            //user is not authorized => Remain at login page\n            if (localStorage.getItem('jwt_token') === null) {\n                this.$router.push('/login');\n            }\n            this.allTuts = await this.axios.get('http://localhost:3000/tutorials', {\n                headers: {\n                    Authorization: `Bearer ${localStorage.getItem('jwt_token')}`,\n                },\n            });\n            this.allTuts = this.allTuts.data.filter(\n                element => element.tutor != null && element.lecture != null && Date.parse(element.date) >= Date.now()\n            );\n            this.allTuts = this.allTuts.sort((a, b) => new Date(a.date) - new Date(b.date)); //Sort tutorials by date asc\n            this.filteredTuts = this.allTuts;\n            this.grabUserTuts();\n        } catch {\n            console.log('You are not authorized to access this page');\n            localStorage.clear();\n            this.$router.push('/login');\n            this.$root.$refs.Navbar.reloadNav();\n            console.log('Logged out');\n        }\n    },\n    methods: {\n        getUserId() {\n            return localStorage.getItem('userID');\n        },\n        updateCurrentPage(currentPage) {\n            this.page = currentPage;\n        },\n        filterTut() {\n            this.filteredTuts = this.allTuts;\n            if (this.searchValue.length > 0) {\n                this.filteredTuts = this.allTuts.filter(tut =>\n                    tut.lecture.title.toLowerCase().includes(this.searchValue.toLowerCase())\n                );\n            }\n            this.updateCurrentPage(1);\n        },\n        async grabUserTuts() {\n            try {\n                const jwt_token = localStorage.getItem('jwt_token');\n                if (jwt_token) {\n                    let result = await this.axios.post(\n                        'http://localhost:3000/verifyRefreshToken',\n                        {},\n                        {\n                            headers: {\n                                Authorization: `Bearer ${jwt_token}`,\n                            },\n                        }\n                    );\n                    if (result.status === 200) {\n                        localStorage.setItem('jwt_token', result.data.jwt_token);\n                        let user = await this.axios.get(\n                            'http://localhost:3000/user/' + localStorage.getItem('userID'),\n                            {\n                                headers: {\n                                    Authorization: `Bearer ${localStorage.getItem('jwt_token')}`,\n                                },\n                            }\n                        );\n                        if (user.status === 200) {\n                            this.userLectures = user.data.student_in.map(tutorial => tutorial._id);\n                        }\n                    }\n                    this.$forceUpdate();\n                } else {\n                    console.log('You are not authorized to access this page');\n                    localStorage.clear();\n                    this.$router.push('/login');\n                    this.$root.$refs.Navbar.reloadNav();\n                    console.log('Logged out');\n                }\n            } catch (err) {\n                console.log(err.message);\n                localStorage.clear();\n                this.$router.push('/login');\n                this.$root.$refs.Navbar.reloadNav();\n                console.log('Logged out');\n            }\n        },\n        async joinDropTut(join, tutorialID) {\n            try {\n                const jwt_token = localStorage.getItem('jwt_token');\n                if (join && !this.userLectures.includes(tutorialID)) this.userLectures.push(tutorialID);\n                else if (!join & this.userLectures.includes(tutorialID)) this.userLectures = this.userLectures.filter(tutID => tutID !== tutorialID)\n                if (jwt_token) {\n                    let result = await this.axios.put(\n                        'http://localhost:3000/user/' + localStorage.getItem('userID'),\n                        { student_in: this.userLectures },\n                        {\n                            headers: {\n                                Authorization: `Bearer ${jwt_token}`,\n                            },\n                        }\n                    );\n                    if (result.status === 200) {\n                        this.grabUserTuts();\n                        if (join) window.alert(\"You've successfully joined the tutorial!\");\n                        else window.alert(\"You've successfully dropped the tutorial!\");\n                    }\n                } else {\n                    console.log('You are not authorized to access this page');\n                    localStorage.clear();\n                    this.$router.push('/login');\n                    this.$root.$refs.Navbar.reloadNav();\n                    console.log('Logged out');\n                }\n            } catch (err) {\n                console.log(err.message);\n            }\n        },\n    },\n};\n</script>\n"]}]}