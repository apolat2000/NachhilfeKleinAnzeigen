{"remainingRequest":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/src/components/TutorialsItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/src/components/TutorialsItem.vue","mtime":1611150111469},{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ahmet/Desktop/Nachhilfekleinanzeigen/gruppe07/gruppe07/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ1R1dG9yaWFscycsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGRhdGVUaW1lOiAnJywKICAgICAgICB9OwogICAgfSwKICAgIGNvbXBvbmVudDogeyBtb21lbnQgfSwKICAgIHByb3BzOiB7CiAgICAgICAgdHV0b3JpYWw6IHsKICAgICAgICAgICAgZGVmYXVsdDogJ3R1dG9yaWFsJywKICAgICAgICB9LAogICAgICAgIGNhbkVkaXQ6IHsKICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICAgICAgfSwKICAgICAgICBjYW5EZWxldGU6IHsKICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICAgICAgfSwKICAgICAgICBvcmRlcjogewogICAgICAgICAgICBkZWZhdWx0OiAwLAogICAgICAgIH0sCiAgICAgICAgdXNlckxlY3R1cmVzOiB7CiAgICAgICAgICAgIGRlZmF1bHQ6IFtdLAogICAgICAgIH0sCiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICB0aGlzLmRhdGVUaW1lID0gbW9tZW50KHRoaXMudHV0b3JpYWwuZGF0ZSk7IC8vY29udmVydCBtb25nbyBkYXRlIHRvIGEgbmljZXIgZm9ybWF0CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGlzUGFydGljaXBhbnQoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnVzZXJMZWN0dXJlcy5pbmNsdWRlcyh0aGlzLnR1dG9yaWFsLl9pZCk7CiAgICAgICAgfSwKICAgICAgICBhc3luYyB1cGRhdGVVc2VyKGpvaW4sIHR1dG9yaWFsSUQpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IGp3dF90b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3RfdG9rZW4nKTsKICAgICAgICAgICAgICAgIGlmIChqb2luICYmICF0aGlzLnVzZXJMZWN0dXJlcy5pbmNsdWRlcyh0dXRvcmlhbElEKSkgdGhpcy51c2VyTGVjdHVyZXMucHVzaCh0dXRvcmlhbElEKTsKICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFqb2luICYgdGhpcy51c2VyTGVjdHVyZXMuaW5jbHVkZXModHV0b3JpYWxJRCkpIHRoaXMudXNlckxlY3R1cmVzLnBvcCh0dXRvcmlhbElEKTsKICAgICAgICAgICAgICAgIGlmIChqd3RfdG9rZW4pIHsKICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdGhpcy5heGlvcy5wdXQoCiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwOi8vbG9jYWxob3N0OjMwMDAvdXNlci8nICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJRCcpLAogICAgICAgICAgICAgICAgICAgICAgICB7IHN0dWRlbnRfaW46IHRoaXMudXNlckxlY3R1cmVzIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7and0X3Rva2VufWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqb2luKSB3aW5kb3cuYWxlcnQoIllvdSd2ZSBzdWNjZXNzZnVsbHkgam9pbmVkIHRoZSB0dXRvcmlhbCEiKTsKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB3aW5kb3cuYWxlcnQoIllvdSd2ZSBzdWNjZXNzZnVsbHkgZHJvcHBlZCB0aGUgdHV0b3JpYWwhIik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnWW91IGFyZSBub3QgYXV0aG9yaXplZCB0byBhY2Nlc3MgdGhpcyBwYWdlJyk7CiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJHJlZnMuTmF2YmFyLnJlbG9hZE5hdigpOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMb2dnZWQgb3V0Jyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgIH0sCn07Cg=="},{"version":3,"sources":["TutorialsItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TutorialsItem.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <tr class=\"bg-white divide-y divide-gray-200\">\n        <td class=\"px-6 py-4 whitespace-nowrap text-center text-sm font-medium\">\n            <div class=\"ml-4\">\n                <div class=\"text-sm font-medium text-gray-900\">\n                    <p class=\"text-sm text-center font-medium text-gray-900\">\n                        {{ tutorial.lecture.title }}\n                    </p>\n                </div>\n            </div>\n        </td>\n        <td class=\"px-6 py-4 whitespace-nowrap text-center text-sm font-medium\">\n            <div class=\"text-sm font-medium text-gray-900\">\n                <p class=\"text-sm text-center font-medium text-gray-900\">\n                    <span v-if=\"tutorial.class_size == 1\">\n                        Private tuition<br />({{ tutorial.class_size }} Student)\n                    </span>\n                    <span v-else-if=\"tutorial.class_size < 11\">\n                        Small group<br />({{ tutorial.class_size }} Students)\n                    </span>\n                    <span v-else> Large Group<br />({{ tutorial.class_size }} Students) </span>\n                </p>\n            </div>\n        </td>\n        <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n            {{ tutorial.title }}\n        </td>\n        <td class=\"px-6 py-4 whitespace-nowrap\">\n            <span\n                v-if=\"tutorial.is_Active\"\n                class=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800\"\n            >\n                Active\n            </span>\n            <span\n                v-else\n                class=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-black-800\"\n            >\n                Inactive\n            </span>\n        </td>\n        <td class=\"px-6 py-4 whitespace-nowrap\">\n            <router-link :to=\"`/profile/${tutorial.tutor._id}`\">\n                <div class=\"text-sm text-gray-900\">\n                    {{ tutorial.tutor.first_name + ' ' + tutorial.tutor.last_name }}\n                </div>\n            </router-link>\n            <div class=\"text-sm text-gray-500\">{{ dateTime }}</div>\n        </td>\n        <td>\n            <router-link class=\"flex justify-center\" to=\"/home\"\n                ><img src=\"../assets/app.svg\" class=\"h-8\"\n            /></router-link>\n        </td>\n        <td>\n            <a :href=\"`https://meet.jit.si/${tutorial._id}`\" class=\"flex justify-center\" target=\"_blank\"\n                ><img src=\"../assets/camera.svg\" class=\"h-8\"\n            /></a>\n        </td>\n        <td>\n            <button v-if=\"isParticipant() && !canEdit\" class=\"content-center\" title=\"Leave tutorial\">\n                <img src=\"../assets/Leave.png\" class=\"h-8\" @click=\"updateUser(false, tutorial._id)\" />\n            </button>\n            <button\n                v-if=\"!isParticipant() && !canEdit\"\n                class=\"content-center\"\n                title=\"Join tutorial\"\n                @click=\"updateUser(true, tutorial._id)\"\n            >\n                <img src=\"../assets/Join.png\" class=\"h-8\" />\n            </button>\n            <router-link v-if=\"canEdit\" class=\"flex justify-center\" to=\"/home\" title=\"Edit tutorial\"\n                ><img src=\"../assets/edit.svg\" class=\"h-8\"\n            /></router-link>\n        </td>\n    </tr>\n</template>\n\n<script>\nimport moment from 'moment';\nexport default {\n    name: 'Tutorials',\n    data() {\n        return {\n            dateTime: '',\n        };\n    },\n    component: { moment },\n    props: {\n        tutorial: {\n            default: 'tutorial',\n        },\n        canEdit: {\n            default: false,\n        },\n        canDelete: {\n            default: false,\n        },\n        order: {\n            default: 0,\n        },\n        userLectures: {\n            default: [],\n        },\n    },\n    mounted() {\n        this.dateTime = moment(this.tutorial.date); //convert mongo date to a nicer format\n    },\n    methods: {\n        isParticipant() {\n            return this.userLectures.includes(this.tutorial._id);\n        },\n        async updateUser(join, tutorialID) {\n            try {\n                const jwt_token = localStorage.getItem('jwt_token');\n                if (join && !this.userLectures.includes(tutorialID)) this.userLectures.push(tutorialID);\n                else if (!join & this.userLectures.includes(tutorialID)) this.userLectures.pop(tutorialID);\n                if (jwt_token) {\n                    let result = await this.axios.put(\n                        'http://localhost:3000/user/' + localStorage.getItem('userID'),\n                        { student_in: this.userLectures },\n                        {\n                            headers: {\n                                Authorization: `Bearer ${jwt_token}`,\n                            },\n                        }\n                    );\n                    if (result.status === 200) {\n                        this.$forceUpdate();\n                        if (join) window.alert(\"You've successfully joined the tutorial!\");\n                        else window.alert(\"You've successfully dropped the tutorial!\");\n                    }\n                } else {\n                    console.log('You are not authorized to access this page');\n                    localStorage.clear();\n                    this.$router.push('/login');\n                    this.$root.$refs.Navbar.reloadNav();\n                    console.log('Logged out');\n                }\n            } catch (err) {\n                console.log(err.message);\n            }\n        },\n    },\n};\n</script>\n"]}]}